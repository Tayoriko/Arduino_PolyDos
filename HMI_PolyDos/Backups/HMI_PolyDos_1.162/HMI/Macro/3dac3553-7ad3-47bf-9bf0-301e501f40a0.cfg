<MacroInfo xmlns="http://schemas.flexem.com/fs/model/1" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><AddressCollection><MacroAddressInfo><AddressIndex>1</AddressIndex><BitAddress><Abbreviation>sys_in_update[4X.B98.0]</Abbreviation><AddressLabelId>0bb941f1-3c4d-4f2a-bb11-fc91f34a15d3</AddressLabelId><AddressLabelIsVisible>true</AddressLabelIsVisible><DataTypeIsVisible>true</DataTypeIsVisible><DeviceAndAbbreviation>Device1:[МестныеCOM2:Modbus RTU]:sys_in_update[4X.B98.0]</DeviceAndAbbreviation><DeviceId>17b3d7c4-6672-419a-a039-1e4ea6d623f1</DeviceId><Id>b2cf11d7-7107-4899-a743-c8b9e04415e3</Id><IsLabelAddress>true</IsLabelAddress><MainAddress>98</MainAddress><RegisterId>65540</RegisterId><SpeedIsVisible>true</SpeedIsVisible><StationNO>1</StationNO><SysRegIsEnabled>true</SysRegIsEnabled><SysRegIsVisible>true</SysRegIsVisible><UseByteReference>true</UseByteReference><UseStationReferenceIsVisible>true</UseStationReferenceIsVisible><WordCount>1</WordCount><WordCountIsVisible>true</WordCountIsVisible><Version>4</Version><TagName/><NewSubAddressIndexType>Constant</NewSubAddressIndexType></BitAddress><Name>sys_in_update</Name><ReferenceCount>2</ReferenceCount><WordAddress><Abbreviation>LW0</Abbreviation><AddressLabelIsVisible>true</AddressLabelIsVisible><AddressType>Word</AddressType><DeviceAndAbbreviation>LOCAL: [внутренняя память]:LW0</DeviceAndAbbreviation><DeviceId>cb9d3240-5ec1-453c-ad80-2b36295e2f30</DeviceId><Id>4b4b718d-785e-463d-bc1e-20f801714c11</Id><RegisterId>65791</RegisterId><SpeedIsVisible>true</SpeedIsVisible><SysRegIsEnabled>true</SysRegIsEnabled><SysRegIsVisible>true</SysRegIsVisible><UseStationReferenceIsVisible>true</UseStationReferenceIsVisible><WordCount>1</WordCount><WordCountIsVisible>true</WordCountIsVisible><Version>4</Version><TagName/><NewSubAddressIndexType>Constant</NewSubAddressIndexType></WordAddress></MacroAddressInfo><MacroAddressInfo><AddressIndex>2</AddressIndex><BitAddress><Abbreviation>sys_out_update[4X.B99.0]</Abbreviation><AddressLabelId>d56af000-f6d1-48d7-9737-4feb12016d20</AddressLabelId><AddressLabelIsVisible>true</AddressLabelIsVisible><DataTypeIsVisible>true</DataTypeIsVisible><DeviceAndAbbreviation>Device1:[МестныеCOM2:Modbus RTU]:sys_out_update[4X.B99.0]</DeviceAndAbbreviation><DeviceId>17b3d7c4-6672-419a-a039-1e4ea6d623f1</DeviceId><Id>96953c40-0766-4cfc-a0ea-f7c7683ba117</Id><IsLabelAddress>true</IsLabelAddress><MainAddress>99</MainAddress><RegisterId>65540</RegisterId><SpeedIsVisible>true</SpeedIsVisible><StationNO>1</StationNO><SysRegIsEnabled>true</SysRegIsEnabled><SysRegIsVisible>true</SysRegIsVisible><UseByteReference>true</UseByteReference><UseStationReferenceIsVisible>true</UseStationReferenceIsVisible><WordCount>1</WordCount><WordCountIsVisible>true</WordCountIsVisible><Version>4</Version><TagName/><NewSubAddressIndexType>Constant</NewSubAddressIndexType></BitAddress><Name>sys_out_update</Name><ReferenceCount>1</ReferenceCount><WordAddress><Abbreviation>LW0</Abbreviation><AddressLabelIsVisible>true</AddressLabelIsVisible><AddressType>Word</AddressType><DeviceAndAbbreviation>LOCAL: [внутренняя память]:LW0</DeviceAndAbbreviation><DeviceId>cb9d3240-5ec1-453c-ad80-2b36295e2f30</DeviceId><Id>ae97a045-fb31-4aca-b09c-9ced90c07e75</Id><RegisterId>65791</RegisterId><SpeedIsVisible>true</SpeedIsVisible><SysRegIsEnabled>true</SysRegIsEnabled><SysRegIsVisible>true</SysRegIsVisible><UseStationReferenceIsVisible>true</UseStationReferenceIsVisible><WordCount>1</WordCount><WordCountIsVisible>true</WordCountIsVisible><Version>4</Version><TagName/><NewSubAddressIndexType>Constant</NewSubAddressIndexType></WordAddress></MacroAddressInfo><MacroAddressInfo><AddressIndex>3</AddressIndex><AddressType>Word</AddressType><BitAddress><Abbreviation>sys_in_update[4X.B98.0]</Abbreviation><AddressLabelId>0bb941f1-3c4d-4f2a-bb11-fc91f34a15d3</AddressLabelId><AddressLabelIsVisible>true</AddressLabelIsVisible><DataTypeIsVisible>true</DataTypeIsVisible><DeviceAndAbbreviation>Device1:[МестныеCOM2:Modbus RTU]:sys_in_update[4X.B98.0]</DeviceAndAbbreviation><DeviceId>17b3d7c4-6672-419a-a039-1e4ea6d623f1</DeviceId><Id>2b2f34c9-2015-4455-93d2-cdd0e224aeb3</Id><IsLabelAddress>true</IsLabelAddress><MainAddress>98</MainAddress><RegisterId>65540</RegisterId><SpeedIsVisible>true</SpeedIsVisible><StationNO>1</StationNO><SysRegIsEnabled>true</SysRegIsEnabled><SysRegIsVisible>true</SysRegIsVisible><UseByteReference>true</UseByteReference><UseStationReferenceIsVisible>true</UseStationReferenceIsVisible><WordCount>1</WordCount><WordCountIsVisible>true</WordCountIsVisible><Version>4</Version><TagName/><NewSubAddressIndexType>Constant</NewSubAddressIndexType></BitAddress><Name>sys_scr</Name><ReferenceCount>1</ReferenceCount><WordAddress><Abbreviation>sys_scr[LW10]</Abbreviation><AddressLabelId>c82ed2f0-d508-4640-a07f-2b487e0cc214</AddressLabelId><AddressLabelIsVisible>true</AddressLabelIsVisible><AddressType>Word</AddressType><DeviceAndAbbreviation>LOCAL: [внутренняя память]:sys_scr[LW10]</DeviceAndAbbreviation><DeviceId>cb9d3240-5ec1-453c-ad80-2b36295e2f30</DeviceId><Id>7e436c24-575b-4917-ba17-0c21c62cc5fe</Id><IsLabelAddress>true</IsLabelAddress><MainAddress>10</MainAddress><RegisterId>65791</RegisterId><SpeedIsVisible>true</SpeedIsVisible><SysRegIsEnabled>true</SysRegIsEnabled><SysRegIsVisible>true</SysRegIsVisible><UseStationReferenceIsVisible>true</UseStationReferenceIsVisible><WordCount>1</WordCount><WordCountIsVisible>true</WordCountIsVisible><Version>4</Version><TagName/><NewSubAddressIndexType>Constant</NewSubAddressIndexType></WordAddress></MacroAddressInfo><MacroAddressInfo><AddressIndex>4</AddressIndex><AddressType>Word</AddressType><BitAddress><Abbreviation>LB0</Abbreviation><AddressLabelIsVisible>true</AddressLabelIsVisible><DataTypeIsVisible>true</DataTypeIsVisible><DeviceAndAbbreviation>LOCAL: [внутренняя память]:LB0</DeviceAndAbbreviation><DeviceId>cb9d3240-5ec1-453c-ad80-2b36295e2f30</DeviceId><Id>28d74eeb-f74d-41a9-b463-3d08e1fe8bf5</Id><RegisterId>254</RegisterId><SpeedIsVisible>true</SpeedIsVisible><SysRegIsEnabled>true</SysRegIsEnabled><SysRegIsVisible>true</SysRegIsVisible><UseStationReferenceIsVisible>true</UseStationReferenceIsVisible><WordCountIsVisible>true</WordCountIsVisible><Version>4</Version><TagName/><NewSubAddressIndexType>Constant</NewSubAddressIndexType></BitAddress><Name>sys_scr_alm</Name><ReferenceCount>2</ReferenceCount><WordAddress><Abbreviation>sys_scr_alm[LW11]</Abbreviation><AddressLabelId>113e781c-a52f-43ac-8017-fba3556c5b4e</AddressLabelId><AddressLabelIsVisible>true</AddressLabelIsVisible><AddressType>Word</AddressType><DeviceAndAbbreviation>LOCAL: [внутренняя память]:sys_scr_alm[LW11]</DeviceAndAbbreviation><DeviceId>cb9d3240-5ec1-453c-ad80-2b36295e2f30</DeviceId><Id>44ffaeb0-3f23-4ec6-b48d-2f1efca5b32e</Id><IsLabelAddress>true</IsLabelAddress><MainAddress>11</MainAddress><RegisterId>65791</RegisterId><SpeedIsVisible>true</SpeedIsVisible><SysRegIsEnabled>true</SysRegIsEnabled><SysRegIsVisible>true</SysRegIsVisible><UseStationReferenceIsVisible>true</UseStationReferenceIsVisible><WordCount>1</WordCount><WordCountIsVisible>true</WordCountIsVisible><Version>4</Version><TagName/><NewSubAddressIndexType>Constant</NewSubAddressIndexType></WordAddress></MacroAddressInfo><MacroAddressInfo><AddressIndex>5</AddressIndex><BitAddress><Abbreviation>sys_Any_Alarm[4X.B99.1]</Abbreviation><AddressLabelId>6e84997e-1045-4424-aaa1-3943d1ed7d38</AddressLabelId><AddressLabelIsVisible>true</AddressLabelIsVisible><DataTypeIsVisible>true</DataTypeIsVisible><DeviceAndAbbreviation>Device1:[МестныеCOM2:Modbus RTU]:sys_Any_Alarm[4X.B99.1]</DeviceAndAbbreviation><DeviceId>17b3d7c4-6672-419a-a039-1e4ea6d623f1</DeviceId><Id>267058da-8b22-46dc-a5d2-052123ba1b53</Id><IsLabelAddress>true</IsLabelAddress><MainAddress>99</MainAddress><RegisterId>65540</RegisterId><SpeedIsVisible>true</SpeedIsVisible><StationNO>1</StationNO><SubAddress>1</SubAddress><SysRegIsEnabled>true</SysRegIsEnabled><SysRegIsVisible>true</SysRegIsVisible><UseByteReference>true</UseByteReference><UseStationReferenceIsVisible>true</UseStationReferenceIsVisible><WordCount>1</WordCount><WordCountIsVisible>true</WordCountIsVisible><Version>4</Version><TagName/><NewSubAddressIndexType>Constant</NewSubAddressIndexType></BitAddress><Name>sys_Any_Alarm</Name><ReferenceCount>1</ReferenceCount><WordAddress><Abbreviation>LW0</Abbreviation><AddressLabelIsVisible>true</AddressLabelIsVisible><AddressType>Word</AddressType><DeviceAndAbbreviation>LOCAL: [внутренняя память]:LW0</DeviceAndAbbreviation><DeviceId>cb9d3240-5ec1-453c-ad80-2b36295e2f30</DeviceId><Id>9fcfca99-95ed-4c78-a184-d292326a6de8</Id><RegisterId>65791</RegisterId><SpeedIsVisible>true</SpeedIsVisible><SysRegIsEnabled>true</SysRegIsEnabled><SysRegIsVisible>true</SysRegIsVisible><UseStationReferenceIsVisible>true</UseStationReferenceIsVisible><WordCount>1</WordCount><WordCountIsVisible>true</WordCountIsVisible><Version>4</Version><TagName/><NewSubAddressIndexType>Constant</NewSubAddressIndexType></WordAddress></MacroAddressInfo></AddressCollection><Description/><Name>sys_global</Name><NameWithSuffix>sys_global.c</NameWithSuffix><NeedRebuild>true</NeedRebuild><SourceCode>#include &lt;macro.h&gt;&#xD;
&#xD;
int MacroMain()&#xD;
{&#xD;
	//сохранение данных в EEPROM&#xD;
		//чтение данных&#xD;
		bool save_REQ = GetBit(@sys_in_update@,0);	//запрос сохранения в EEPROM&#xD;
		bool save_OK = GetBit(@sys_out_update@,0);	//подтверждение сохранения в EEPROM&#xD;
		&#xD;
		//проверка подтверждения успешного сохранения данных&#xD;
		if ((save_REQ = 1) &amp; (save_OK = 1)) {save_REQ = 0;}&#xD;
		&#xD;
		//запись данных&#xD;
		int ret_x01 = SetBit(@sys_in_update@,0,0);		//обнуление запроса сохранения в EEPROM&#xD;
		&#xD;
	//индикатор аварии&#xD;
		//чтение данных&#xD;
		unsigned short scr = GetWord(@sys_scr@,0);&#xD;
		unsigned short scr_alm = GetWord(@sys_scr_alm@,0);&#xD;
		bool alm = GetBit(@sys_Any_Alarm@,0);&#xD;
		&#xD;
		//формирование индикатора&#xD;
		if (scr != 4)&#xD;
		{&#xD;
			if (alm = 0) {scr_alm = 0;}&#xD;
			if (alm = 1) {scr_alm = 2;}&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			if (alm = 0) {scr_alm = 1;}&#xD;
			if (alm = 1) {scr_alm = 3;}&#xD;
		}&#xD;
		&#xD;
		//запись данных&#xD;
		int ret_x02 = SetWord(@sys_scr_alm@,0,scr_alm);&#xD;
	&#xD;
	return 0;&#xD;
}</SourceCode><UniqueId>3dac3553-7ad3-47bf-9bf0-301e501f40a0</UniqueId><Version>1</Version></MacroInfo>